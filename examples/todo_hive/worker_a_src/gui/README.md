# Worker A GUI - 圖形介面應用程式

這是 Worker A Todo List 系統的完整圖形介面實現，提供現代化的 Web 用戶體驗，包含用戶認證和待辦事項管理功能。

## 功能特點

- ✅ **用戶註冊**：創建新帳戶
- ✅ **用戶登錄**：使用用戶名和密碼登錄
- ✅ **創建待辦事項**：添加新的待辦事項
- ✅ **查看待辦事項列表**：查看所有待辦事項
- ✅ **現代化 UI**：響應式設計，支持桌面和移動設備
- ✅ **自動認證**：記住登錄狀態，刷新頁面後自動恢復

## 目錄結構

```
gui/
├── app_gui.py              # Flask GUI 應用程式
├── templates/
│   └── index.html          # 主頁面模板
├── static/
│   ├── css/
│   │   └── style.css       # 樣式表
│   └── js/
│       ├── api.js          # API 客戶端
│       └── app.js          # 應用程式邏輯
└── README.md               # 本文件
```

## 快速開始

### 1. 安裝依賴

確保已安裝 Worker A 的後端依賴：

```bash
cd Worker_a_src
pip install -r requirements.txt
```

### 2. 啟動後端 API 服務

在一個終端窗口中：

```bash
cd Worker_a_src
python app.py
```

後端 API 將在 `http://localhost:5000` 啟動。

### 3. 啟動 GUI 應用

在另一個終端窗口中：

```bash
cd Worker_a_src/gui
python app_gui.py
```

GUI 應用將在 `http://localhost:5002` 啟動。

### 4. 訪問應用

在瀏覽器中打開：

```
http://localhost:5002
```

## 使用說明

### 註冊新用戶

1. 點擊「立即註冊」連結
2. 輸入用戶名（3-50 字符）
3. 輸入密碼（6-100 字符）
4. 確認密碼
5. 點擊「註冊」按鈕

註冊成功後，系統會提示您登錄。

### 登錄

1. 輸入用戶名和密碼
2. 點擊「登錄」按鈕

登錄成功後，系統會自動跳轉到待辦事項管理頁面。

### 管理待辦事項

#### 創建待辦事項

1. 在「創建新待辦事項」區域輸入內容
2. 點擊「添加」按鈕
3. 待辦事項會立即出現在列表中

#### 查看待辦事項

- 所有待辦事項按創建時間倒序顯示（最新的在前）
- 每個待辦事項顯示：
  - 內容
  - 創建時間
  - 唯一 ID（前 8 位）

#### 刷新列表

點擊「刷新」按鈕可以重新載入待辦事項列表。

### 登出

點擊右上角的「登出」按鈕，系統會：
- 清除認證令牌
- 返回登錄頁面

## 技術架構

### 前端技術

- **HTML5**：語義化標記
- **CSS3**：現代化樣式，使用 CSS 變量和漸變
- **JavaScript (ES6+)**：模組化設計，使用類和異步函數
- **Fetch API**：與後端 API 通信

### 後端整合

- **Flask**：輕量級 Web 框架，提供靜態文件服務
- **Worker A API**：通過 HTTP 請求與認證和待辦事項 API 通信

### API 通信

前端通過 `api.js` 模組與後端通信：

- `POST /api/register` - 用戶註冊
- `POST /api/login` - 用戶登錄
- `POST /api/todos` - 創建待辦事項（需要認證）
- `GET /api/todos` - 獲取所有待辦事項（需要認證）

所有 API 請求都使用 JSON 格式，認證請求使用 Bearer Token。

## 設計特點

### 用戶體驗

- **響應式設計**：適配桌面和移動設備
- **即時反饋**：操作後立即顯示成功或錯誤訊息
- **自動認證**：記住登錄狀態，無需重複登錄
- **清晰的視覺層次**：使用卡片和漸變背景

### 安全性

- **密碼不顯示**：使用密碼輸入框
- **令牌安全存儲**：使用 localStorage（僅用於演示）
- **輸入驗證**：前端和後端雙重驗證
- **XSS 防護**：HTML 內容轉義
- **HTTPS 建議**：生產環境應使用 HTTPS

### 可訪問性

- **語義化 HTML**：使用適當的標籤
- **鍵盤導航**：支持 Tab 鍵和 Enter 鍵
- **清晰的錯誤訊息**：幫助用戶理解問題

## 與 Worker B 的差異

### 功能差異

- **Worker A**：包含待辦事項管理功能
- **Worker B**：專注於用戶認證，不包含待辦事項

### API 差異

- **Worker A 註冊**：只返回成功訊息，不返回 token（需要登錄獲取）
- **Worker B 註冊**：直接返回 token

### 用戶標識符

- **Worker A**：使用用戶名作為標識符
- **Worker B**：使用 UUID 作為用戶標識符

## 自定義配置

### 修改 API 地址

在 `static/js/api.js` 中修改：

```javascript
const api = new WorkerAApi('http://your-api-url:port');
```

### 修改端口

在 `app_gui.py` 中修改：

```python
app.run(debug=True, port=5002, host='0.0.0.0')
```

### 自定義樣式

編輯 `static/css/style.css`，修改 CSS 變量：

```css
:root {
    --primary-color: #4f46e5;
    --secondary-color: #6366f1;
    /* ... */
}
```

## 故障排除

### 無法連接到後端 API

1. 確認後端 API 服務正在運行（`python app.py`）
2. 檢查 API 地址是否正確（預設 `http://localhost:5000`）
3. 檢查瀏覽器控制台是否有 CORS 錯誤

### 令牌無效

1. 令牌可能已過期（預設 24 小時）
2. 清除瀏覽器 localStorage 並重新登錄
3. 檢查後端服務是否正常運行

### 待辦事項無法創建

1. 確認已登錄（檢查右上角是否顯示用戶名）
2. 檢查待辦事項內容是否為空
3. 查看瀏覽器控制台的錯誤訊息

### 樣式未加載

1. 確認 Flask 靜態文件配置正確
2. 檢查文件路徑是否正確
3. 清除瀏覽器緩存

## 開發建議

### 生產環境部署

1. **使用 HTTPS**：保護用戶數據和令牌
2. **環境變量**：將 API 地址和端口配置為環境變量
3. **錯誤處理**：添加更詳細的錯誤日誌
4. **性能優化**：壓縮 CSS 和 JavaScript
5. **安全頭部**：添加適當的 HTTP 安全頭部

### 功能擴展

可以考慮添加：

- 待辦事項編輯功能
- 待辦事項刪除功能
- 待辦事項完成狀態
- 待辦事項分類和標籤
- 搜索和過濾功能
- 批量操作

## 授權

MIT License

## 相關文檔

- [Worker A 後端 README](../README.md)（如果存在）
- [Worker A 設計文檔](../DESIGN.md)
- [Worker A 探索記錄](../EXPLORATION.md)
